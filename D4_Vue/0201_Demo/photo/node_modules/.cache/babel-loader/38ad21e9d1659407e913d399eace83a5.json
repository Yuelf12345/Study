{"remainingRequest":"C:\\Vue\\Y\\XM\\teaching-vuejs\\packages\\photo\\node_modules\\babel-loader\\lib\\index.js!C:\\Vue\\Y\\XM\\teaching-vuejs\\packages\\photo\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Vue\\Y\\XM\\teaching-vuejs\\packages\\photo\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Vue\\Y\\XM\\teaching-vuejs\\packages\\photo\\src\\views\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Vue\\Y\\XM\\teaching-vuejs\\packages\\photo\\src\\views\\Home.vue","mtime":1675735305151},{"path":"C:\\Vue\\Y\\XM\\teaching-vuejs\\packages\\photo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1675735787205},{"path":"C:\\Vue\\Y\\XM\\teaching-vuejs\\packages\\photo\\node_modules\\babel-loader\\lib\\index.js","mtime":1675735787078},{"path":"C:\\Vue\\Y\\XM\\teaching-vuejs\\packages\\photo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1675735787205},{"path":"C:\\Vue\\Y\\XM\\teaching-vuejs\\packages\\photo\\node_modules\\vue-loader\\lib\\index.js","mtime":1675735776133}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVnVlL1kvWE0vdGVhY2hpbmctdnVlanMvcGFja2FnZXMvcGhvdG8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICJDOi9WdWUvWS9YTS90ZWFjaGluZy12dWVqcy9wYWNrYWdlcy9waG90by9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAidnVleCI7CmltcG9ydCBVcGxvYWRWaWV3IGZyb20gIi4uL2NvbXBvbmVudHMvVXBsb2FkVmlldyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiSG9tZSIsCiAgY29tcG9uZW50czogewogICAgVXBsb2FkVmlldzogVXBsb2FkVmlldwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNob3dVcGxvYWRWaWV3OiBmYWxzZQogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZShbInBhZ2VTaXplIiwgInBhZ2VUb3RhbCIsICJwaG90b3MiXSkpLAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZVBhZ2luYXRpb25DaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVBhZ2luYXRpb25DaGFuZ2UocGFnZUluZGV4KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgiZmV0Y2hQaG90b3MiLCB7CiAgICAgICAgICAgICAgICAgIHA6IHBhZ2VJbmRleAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfdGhpczIuJHN0b3JlLmRpc3BhdGNoKCJmZXRjaFBob3RvcyIsIHsKICAgICAgICAgICAgICAgIHA6IDEKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyKTsKICAgIH0pKSgpOwogIH0KfTs="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA,SAAA,QAAA,QAAA,MAAA;AACA,OAAA,UAAA,MAAA,0BAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,UAAA,EAAA;AADA,GAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,cAAA,EAAA;AADA,KAAA;AAGA,GATA;AAUA,EAAA,QAAA,oBACA,QAAA,CAAA,CAAA,UAAA,EAAA,WAAA,EAAA,QAAA,CAAA,CADA,CAVA;AAcA,EAAA,OAAA,EAAA;AACA,IAAA,sBADA,kCACA,SADA,EACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,aAAA,EAAA;AACA,kBAAA,CAAA,EAAA;AADA,iBAAA;;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AALA,GAdA;AAqBA,EAAA,OArBA,qBAqBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,cAAA,MAAA,CAAA,MAAA,CAAA,QAAA,CAAA,aAAA,EAAA;AACA,gBAAA,CAAA,EAAA;AADA,eAAA;;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAzBA,CAAA","sourcesContent":["<template>\r\n  <div class=\"home\">\r\n    <!-- 展示相关 -->\r\n    <div class=\"container\">\r\n      <div class=\"photoHeader\">\r\n        <div class=\"imgContainer\">\r\n          <img class=\"photoName\" src=\"../assets/1.jpg\" />\r\n        </div>\r\n        <div class=\"btnContainer\">\r\n          <span class=\"photoTitle\">相册名称</span>\r\n          <button class=\"mybtn\" @click=\"showUploadView = true\">\r\n            上传照片\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <el-pagination\r\n        background\r\n        layout=\"prev, pager, next\"\r\n        :total=\"pageTotal\"\r\n        :page-size.sync=\"pageSize\"\r\n        @current-change=\"handlePaginationChange\"\r\n      >\r\n      </el-pagination>\r\n\r\n      <div class=\"photoContainer\">\r\n        <template v-for=\"photo in photos\">\r\n          <router-link\r\n            :to=\"{ name: 'Detail', params: { id: photo.id } }\"\r\n            :key=\"photo.id\"\r\n          >\r\n            <div class=\"photoItem\">\r\n              <img :src=\"photo.imgUrl\" />\r\n              <span>\r\n                {{ photo.name }}\r\n              </span>\r\n            </div>\r\n          </router-link>\r\n        </template>\r\n      </div>\r\n    </div>\r\n    <!-- 上传相关 -->\r\n    <UploadView :visible.sync=\"showUploadView\"></UploadView>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nimport UploadView from \"../components/UploadView\";\r\nexport default {\r\n  name: \"Home\",\r\n  components: {\r\n    UploadView\r\n  },\r\n  data() {\r\n    return {\r\n      showUploadView: false\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState([\"pageSize\", \"pageTotal\", \"photos\"])\r\n  },\r\n\r\n  methods: {\r\n    async handlePaginationChange(pageIndex) {\r\n      this.$store.dispatch(\"fetchPhotos\", {\r\n        p: pageIndex\r\n      });\r\n    }\r\n  },\r\n  async created() {\r\n    this.$store.dispatch(\"fetchPhotos\", {\r\n      p: 1\r\n    });\r\n  }\r\n};\r\n</script>\r\n"],"sourceRoot":"src/views"}]}
{"remainingRequest":"C:\\Vue\\Y\\XM\\teaching-vuejs\\packages\\photo\\node_modules\\babel-loader\\lib\\index.js!C:\\Vue\\Y\\XM\\teaching-vuejs\\packages\\photo\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Vue\\Y\\XM\\teaching-vuejs\\packages\\photo\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Vue\\Y\\XM\\teaching-vuejs\\packages\\photo\\src\\components\\PreviewItem.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Vue\\Y\\XM\\teaching-vuejs\\packages\\photo\\src\\components\\PreviewItem.vue","mtime":1675735305147},{"path":"C:\\Vue\\Y\\XM\\teaching-vuejs\\packages\\photo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1675735787205},{"path":"C:\\Vue\\Y\\XM\\teaching-vuejs\\packages\\photo\\node_modules\\babel-loader\\lib\\index.js","mtime":1675735787078},{"path":"C:\\Vue\\Y\\XM\\teaching-vuejs\\packages\\photo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1675735787205},{"path":"C:\\Vue\\Y\\XM\\teaching-vuejs\\packages\\photo\\node_modules\\vue-loader\\lib\\index.js","mtime":1675735776133}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVnVlL1kvWE0vdGVhY2hpbmctdnVlanMvcGFja2FnZXMvcGhvdG8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBmZXRjaFVwbG9hZCB9IGZyb20gIkAvYXBpIjsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiBbImZpbGUiXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaW1nU3JjOiAiIiwKICAgICAgcHJvZ3Jlc3M6IDAKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAvLyDpgJrov4fkvKDov4fmnaXnmoQgZmlsZSDnu5kgaW1nU3JjIOi1i+WAvAogICAgdmFyIHJlbmRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CgogICAgcmVuZGVyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMuaW1nU3JjID0gcmVuZGVyLnJlc3VsdDsKICAgIH07CgogICAgcmVuZGVyLnJlYWRBc0RhdGFVUkwodGhpcy5maWxlKTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBzaG93UHJvZ3Jlc3NWaWV3OiBmdW5jdGlvbiBzaG93UHJvZ3Jlc3NWaWV3KCkgewogICAgICByZXR1cm4gdGhpcy5wcm9ncmVzcyA+IDAgJiYgdGhpcy5wcm9ncmVzcyA8IDEwMDsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHVwbG9hZEltZzogZnVuY3Rpb24gdXBsb2FkSW1nKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaFVwbG9hZChfdGhpczIuZmlsZSwgZnVuY3Rpb24gKGxvYWRlZCwgdG90YWwpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLnByb2dyZXNzID0gTWF0aC5mbG9vcihsb2FkZWQgLyB0b3RhbCAqIDEwMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["PreviewItem.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAcA,SAAA,WAAA,QAAA,OAAA;AACA,eAAA;AACA,EAAA,KAAA,EAAA,CAAA,MAAA,CADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA;AAFA,KAAA;AAIA,GAPA;AAQA,EAAA,OARA,qBAQA;AAAA;;AACA;AACA,QAAA,MAAA,GAAA,IAAA,UAAA,EAAA;;AACA,IAAA,MAAA,CAAA,MAAA,GAAA,YAAA;AACA,MAAA,KAAA,CAAA,MAAA,GAAA,MAAA,CAAA,MAAA;AACA,KAFA;;AAGA,IAAA,MAAA,CAAA,aAAA,CAAA,KAAA,IAAA;AACA,GAfA;AAiBA,EAAA,QAAA,EAAA;AACA,IAAA,gBADA,8BACA;AACA,aAAA,KAAA,QAAA,GAAA,CAAA,IAAA,KAAA,QAAA,GAAA,GAAA;AACA;AAHA,GAjBA;AAsBA,EAAA,OAAA,EAAA;AACA,IAAA,SADA,uBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,WAAA,CAAA,MAAA,CAAA,IAAA,EAAA,UAAA,MAAA,EAAA,KAAA,EAAA;AACA,kBAAA,MAAA,CAAA,QAAA,GAAA,IAAA,CAAA,KAAA,CAAA,MAAA,GAAA,KAAA,GAAA,GAAA,CAAA;AACA,iBAFA,CADA;;AAAA;AACA,gBAAA,GADA;AAIA,gBAAA,OAAA,CAAA,GAAA,CAAA,GAAA;;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AANA;AAtBA,CAAA","sourcesContent":["<template>\r\n  <div class=\"uploadPhotoItem\">\r\n    <span class=\"myProgress\" v-show=\"showProgressView\">\r\n      <span class=\"plan\" :style=\"{ width: progress + '%' }\"></span>\r\n      {{ progress }}%\r\n    </span>\r\n    <img :src=\"imgSrc\" />\r\n    <span class=\"pictureName\">\r\n      {{ file.name }}\r\n    </span>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { fetchUpload } from \"@/api\";\r\nexport default {\r\n  props: [\"file\"],\r\n  data() {\r\n    return {\r\n      imgSrc: \"\",\r\n      progress: 0\r\n    };\r\n  },\r\n  created() {\r\n    // 通过传过来的 file 给 imgSrc 赋值\r\n    const render = new FileReader();\r\n    render.onload = () => {\r\n      this.imgSrc = render.result;\r\n    };\r\n    render.readAsDataURL(this.file);\r\n  },\r\n\r\n  computed: {\r\n    showProgressView() {\r\n      return this.progress > 0 && this.progress < 100;\r\n    }\r\n  },\r\n  methods: {\r\n    async uploadImg() {\r\n      const res = await fetchUpload(this.file, (loaded, total) => {\r\n        this.progress = Math.floor((loaded / total) * 100);\r\n      });\r\n      console.log(res);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n"],"sourceRoot":"src/components"}]}
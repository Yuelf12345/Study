{"remainingRequest":"C:\\Vue\\Y\\D4_Vue\\0201_Demo\\photo\\node_modules\\babel-loader\\lib\\index.js!C:\\Vue\\Y\\D4_Vue\\0201_Demo\\photo\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Vue\\Y\\D4_Vue\\0201_Demo\\photo\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Vue\\Y\\D4_Vue\\0201_Demo\\photo\\src\\components\\PreviewItem.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Vue\\Y\\D4_Vue\\0201_Demo\\photo\\src\\components\\PreviewItem.vue","mtime":1675735305147},{"path":"C:\\Vue\\Y\\D4_Vue\\0201_Demo\\photo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1675735787205},{"path":"C:\\Vue\\Y\\D4_Vue\\0201_Demo\\photo\\node_modules\\babel-loader\\lib\\index.js","mtime":1675735787078},{"path":"C:\\Vue\\Y\\D4_Vue\\0201_Demo\\photo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1675735787205},{"path":"C:\\Vue\\Y\\D4_Vue\\0201_Demo\\photo\\node_modules\\vue-loader\\lib\\index.js","mtime":1675735776133}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVnVlL1kvRDRfVnVlLzAyMDFfRGVtby9waG90by9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGZldGNoVXBsb2FkIH0gZnJvbSAiQC9hcGkiOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IFsiZmlsZSJdLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpbWdTcmM6ICIiLAogICAgICBwcm9ncmVzczogMAogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIC8vIOmAmui/h+S8oOi/h+adpeeahCBmaWxlIOe7mSBpbWdTcmMg6LWL5YC8CiAgICB2YXIgcmVuZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKCiAgICByZW5kZXIub25sb2FkID0gZnVuY3Rpb24gKCkgewogICAgICBfdGhpcy5pbWdTcmMgPSByZW5kZXIucmVzdWx0OwogICAgfTsKCiAgICByZW5kZXIucmVhZEFzRGF0YVVSTCh0aGlzLmZpbGUpOwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHNob3dQcm9ncmVzc1ZpZXc6IGZ1bmN0aW9uIHNob3dQcm9ncmVzc1ZpZXcoKSB7CiAgICAgIHJldHVybiB0aGlzLnByb2dyZXNzID4gMCAmJiB0aGlzLnByb2dyZXNzIDwgMTAwOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgdXBsb2FkSW1nOiBmdW5jdGlvbiB1cGxvYWRJbWcoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoVXBsb2FkKF90aGlzMi5maWxlLCBmdW5jdGlvbiAobG9hZGVkLCB0b3RhbCkgewogICAgICAgICAgICAgICAgICBfdGhpczIucHJvZ3Jlc3MgPSBNYXRoLmZsb29yKGxvYWRlZCAvIHRvdGFsICogMTAwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["PreviewItem.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAcA,SAAA,WAAA,QAAA,OAAA;AACA,eAAA;AACA,EAAA,KAAA,EAAA,CAAA,MAAA,CADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA;AAFA,KAAA;AAIA,GAPA;AAQA,EAAA,OARA,qBAQA;AAAA;;AACA;AACA,QAAA,MAAA,GAAA,IAAA,UAAA,EAAA;;AACA,IAAA,MAAA,CAAA,MAAA,GAAA,YAAA;AACA,MAAA,KAAA,CAAA,MAAA,GAAA,MAAA,CAAA,MAAA;AACA,KAFA;;AAGA,IAAA,MAAA,CAAA,aAAA,CAAA,KAAA,IAAA;AACA,GAfA;AAiBA,EAAA,QAAA,EAAA;AACA,IAAA,gBADA,8BACA;AACA,aAAA,KAAA,QAAA,GAAA,CAAA,IAAA,KAAA,QAAA,GAAA,GAAA;AACA;AAHA,GAjBA;AAsBA,EAAA,OAAA,EAAA;AACA,IAAA,SADA,uBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,WAAA,CAAA,MAAA,CAAA,IAAA,EAAA,UAAA,MAAA,EAAA,KAAA,EAAA;AACA,kBAAA,MAAA,CAAA,QAAA,GAAA,IAAA,CAAA,KAAA,CAAA,MAAA,GAAA,KAAA,GAAA,GAAA,CAAA;AACA,iBAFA,CADA;;AAAA;AACA,gBAAA,GADA;AAIA,gBAAA,OAAA,CAAA,GAAA,CAAA,GAAA;;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AANA;AAtBA,CAAA","sourcesContent":["<template>\r\n  <div class=\"uploadPhotoItem\">\r\n    <span class=\"myProgress\" v-show=\"showProgressView\">\r\n      <span class=\"plan\" :style=\"{ width: progress + '%' }\"></span>\r\n      {{ progress }}%\r\n    </span>\r\n    <img :src=\"imgSrc\" />\r\n    <span class=\"pictureName\">\r\n      {{ file.name }}\r\n    </span>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { fetchUpload } from \"@/api\";\r\nexport default {\r\n  props: [\"file\"],\r\n  data() {\r\n    return {\r\n      imgSrc: \"\",\r\n      progress: 0\r\n    };\r\n  },\r\n  created() {\r\n    // 通过传过来的 file 给 imgSrc 赋值\r\n    const render = new FileReader();\r\n    render.onload = () => {\r\n      this.imgSrc = render.result;\r\n    };\r\n    render.readAsDataURL(this.file);\r\n  },\r\n\r\n  computed: {\r\n    showProgressView() {\r\n      return this.progress > 0 && this.progress < 100;\r\n    }\r\n  },\r\n  methods: {\r\n    async uploadImg() {\r\n      const res = await fetchUpload(this.file, (loaded, total) => {\r\n        this.progress = Math.floor((loaded / total) * 100);\r\n      });\r\n      console.log(res);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n"],"sourceRoot":"src/components"}]}
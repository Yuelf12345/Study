const fs = require("fs");//文件操作模块
//增删查改； 1文件操作  2目录操作
// flag a:追加写入 w:写入   r:读取
// fs.writeFile("1.txt","文字1",{flag:"a"},function(err){
//     if(err){
//         return console.log(err);
//     }
//     console.log("文字写入成功");
// })

// fs.readFile("1.txt","utf-8",(err,data)=>{
//     if(err){
//         return console.log(err);
//     }
//     console.log(data);
// })

// 所以文件操作 没加Sync异步的都是同步写法
    // let data = fs.readFileSync('1.txt')
    // console.log(data.toString());
// 修改文件名
// fs.rename("1.txt","2.txt",err=>{
//     if(err){
//         return console.log(err);
//     }
//     console.log("文件名修改成功");
// })

// 删除
// fs.unlink("1.txt",err=>{
//     if(err){
//         return console.log(err);
//     }
//     console.log("文件删除成功");
// })

//复制
// fs.copyFile('1.txt',"1copy.txt",err=>{
//     if(err){
//         return console.log(err);
//     }
//     console.log("文件复制成功"); 
// })

// function myCopy(src,dest){
//     fs.watchFile(dest,fs.readFileSync(src))
// }

//目录操作
// fs.mkdir("1",err=>{
//     if(err){
//         return console.log(err);
//     }
//     console.log("创建成功");
// })
//修改目录名
// fs.rename('1','2',err=>{
//     if(err){
//         return console.log(err);
//     }
//     console.log("修改成功");
// })
// 读取目录
// fs.readdir('2',(err,data)=>{
//     if(err){
//         return console.log(err);
//     }
//     console.log(data);
// })
// 删除目录(空文件夹/目录)
// fs.rmdir('2',err=>{
//     if(err){
//         return console.log(err);
//     }
//     console.log("删除成功");
// })
// 判断文件/目录是否存在
// const ex = fs.existsSync('2')
// console.log(ex);
// 获取文件详细信息
// fs.stat('index.html',(err,stat)=>{
//     if(err){
//         return console.log(err);
//     }
//     // console.log(stat);
//     //文件
//     let res1 = stat.isFile()
//     console.log(res1);
//     //目录
//     let res2 = stat.isDirectory()
//     console.log(res2);
// })

// 删除非空文件夹；
// function removeDir(path){
//     let data = fs.readdirSync(path);
//     for(let i=0;i<data.length;i++){
//         let url = path + "/" +data[i]
//         let stat = fs.statSync(url)
//         if(stat.isFile()){
//             // 删除
//             fs.unlinkSync(url)
//         }
//         if(stat.isDirectory()){
//             // 查找
//             removeDir(url)
//         }
//     }
//     //删除空目录
//     fs.rmdirSync(path)
// }
// removeDir("2")
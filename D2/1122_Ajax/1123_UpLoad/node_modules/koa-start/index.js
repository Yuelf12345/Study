const Koa = require('koa');
const app = new Koa();
const fs = require('fs');
const path = require('path');
const argv = require('yargs')
            .alias('p', 'port')
            .alias('n', 'name')
            .default({n: 'index.html', p: '8080'})
            .argv;

const { name, port } = argv;

const main = ctx => {
  ctx.response.type = 'html';
  ctx.response.body = fs.createReadStream('./index.html');
};

app.use(main);
app.listen(port);
console.log(`koa started at: http://127.0.0.1:${port}, with template ${name}`);
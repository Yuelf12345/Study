<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="./test.js"></script>
</head>
<body>
    <script>
        setTimeout(()=>{
            console.log('p setTimeout')
        })
        let p = new Promise((resolve,reject)=>{
            // resolve('resolve')
            // reject('reject')
            // setTimeout(()=>{
                resolve('resolve')
                // reject('reject')
            // })
        })
        console.log(p);
    //非链式
        p.then(res=>{
            console.log('p成功1');
        },err=>{
            console.log('p失败1');
        })
        // p.then(res=>{
        //     console.log('p成功2');
        // },err=>{
        //     console.log('p失败2');
        // })
    //链式
        // p.then(res=>{
        //     console.log('p成功1',res);
        //     // return 'p-1返回值'
        //     return new Promise((resolve,reject)=>{
        //         console.log('p_11');
        //     })
        // }).then(res=>{
        //     console.log('p-2res:',res);
        // })

        // let p1 = new Promise((resolve,reject)=>{
        //     setTimeout(()=>{resolve('p-1')},1500)
        // })
        // let p2 = new Promise((resolve,reject)=>{
        //     setTimeout(()=>{resolve('p-2')},1000)
        // })
        // p1.then(res=>{}).catch(err=>{
        //     console.log('err',err)
        // })
        // Promise.all([p1,p2]).then(res=>{
        //     console.log(res);
        // })
        // Promise.race([p1,p2]).then(res=>{
        //     console.log(res);
        // })
        // p1.then(res=>{
        //     console.log(res);
        // }).finally(()=>{
        //     console.log('执行了');
        // })
// -------------------------------------------------------------
        setTimeout(()=>{
            console.log('y setTimeout')
        })
        let y = new YPromise((resolve,reject)=>{
            // resolve('resolve')
            // reject('reject')
            // setTimeout(()=>{
                resolve('resolve')
                // reject('reject')
            // })
        })
        console.log(y);
    //非链式
        y.then(res=>{
            console.log('y成功1');
        },err=>{
            console.log('y失败1');
        })
        // y.then(res=>{
        //     console.log('y成功2');
        // },err=>{
        //     console.log('y失败2');
        // })
    //链式
        // y.then(res=>{
        //     console.log('y成功1',res);
        //     // return 'y-1返回值'
        //     return new YPromise((resolve,reject)=>{
        //         console.log('y_11');
        //     })
        // }).then(res=>{
        //     console.log('y-2res:',res);
        // })
    //多个
        // let y1 = new YPromise((resolve,reject)=>{
        //     setTimeout(()=>{resolve('y-1')},1500)
        // })
        // let y2 = new YPromise((resolve,reject)=>{
        //     setTimeout(()=>{resolve('y-2')},1000)
        // })
        // y1.then(res=>{}).catch(err=>{
        //     console.log('err',err)
        // })
        // YPromise.all([y1,y2]).then(res=>{
        //     console.log(res);
        // })
        // YPromise.race([y1,y2]).then(res=>{
        //     console.log(res);
        // })
        // y1.then(res=>{
        //     console.log(res);
        // }).finally(()=>{
        //     console.log('执行了');
        // })
    </script>
</body>
</html>